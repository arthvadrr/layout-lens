!function(){"use strict";var e={appToggle:!1,opacity:.5,currentTab:0,paddingColor:"#D8A658",marginColor:"#58CFD8",tagnames:{HTML:!0,BODY:!0,ADDRESS:!0,ARTICLE:!0,ASIDE:!0,FOOTER:!0,HEADER:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HGROUP:!0,MAIN:!0,NAV:!0,SECTION:!0,SEARCH:!0,BLOCKQUOTE:!0,DD:!0,DIV:!0,DL:!0,DT:!0,FIGCAPTION:!0,FIGURE:!0,HR:!0,LI:!0,MENU:!0,OL:!0,P:!0,PRE:!0,UL:!0,A:!0,ABBR:!0,B:!0,BDI:!0,BDO:!0,BR:!0,CITE:!0,CODE:!0,DATA:!0,DFN:!0,EM:!0,I:!0,KBD:!0,MARK:!0,Q:!0,RP:!0,RT:!0,RUBY:!0,S:!0,SAMP:!0,SMALL:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,TIME:!0,U:!0,VAR:!0,WBR:!0,AREA:!0,AUDIO:!0,IMG:!0,MAP:!0,TRACK:!0,VIDEO:!0,EMBED:!0,IFRAME:!0,OBJECT:!0,PICTURE:!0,PORTAL:!0,SOURCE:!0,SVG:!0,MATH:!0,CANVAS:!0,NOSCRIPT:!0,DEL:!0,INS:!0,CAPTION:!0,COL:!0,COLGROUP:!0,TABLE:!0,TBODY:!0,TD:!0,TFOOT:!0,TH:!0,THEAD:!0,TR:!0,BUTTON:!0,DATALIST:!0,FIELDSET:!0,FORM:!0,INPUT:!0,LABEL:!0,LEGEND:!0,METER:!0,OPTGROUP:!0,OPTION:!0,OUTPUT:!0,PROGRESS:!0,SELECT:!0,TEXTAREA:!0,DETAILS:!0,DIALOG:!0,SUMMARY:!0,SLOT:!0,TEMPLATE:!0,"CUSTOM ELEMENTS":!0}};const{tabs:t}=browser;let n;new Promise(((t,a)=>{n=JSON.parse(localStorage.getItem("layoutLensState")),n?t("Layout lens options found in popup"):(n=e,localStorage.setItem("layoutLensState",JSON.stringify(n)),a("Layout lens options set"))})).then((e=>{console.log(e),a()})).catch((e=>{console.log(e),a()}));const a=()=>{const e=(e,t)=>n.tagnames[t]=!!e.target.checked,a=(e,t)=>{e.preventDefault();document.querySelectorAll(".kera").forEach((e=>{t?e.setAttribute("checked","true"):e.removeAttribute("checked"),n.tagnames[e.getAttribute("data-tagname")]=t})),console.log(n.tagnames),o()},o=()=>{t.query({active:!0,currentWindow:!0}).then((e=>{const a=e[0];localStorage.setItem("layoutLensState",JSON.stringify(n)),t.sendMessage(a.id,n)}))};document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".element-selection"),c=document.getElementById("set-tagNames"),s=document.getElementById("unset-tagNames");for(const a in n.tagnames){const c=document.createElement("div"),s=document.createElement("input"),l=document.createElement("label");s.classList.add("kera"),s.setAttribute("type","checkbox"),s.setAttribute("id",`element-selection-${a}`),s.setAttribute("data-tagname",a),n.tagnames[a]&&s.setAttribute("checked","true"),l.setAttribute("for",`element-selection-${a}`),l.setAttribute("name",`element-selection-${a}`),l.innerText=`${a.toLowerCase()}`,s.addEventListener("change",(t=>{e(t,a),o()})),c.appendChild(s),c.appendChild(l),t.appendChild(c)}const l=document.getElementById("ll-toggle");!1===n.appToggle&&l.removeAttribute("checked");const r=document.getElementById("opacity-label"),E=document.getElementById("ll-opacity");E.value=n.opacity,r.innerText=`Opacity ${n.opacity}`,l.addEventListener("change",(e=>{((e,t)=>{n[t]=!!e.target.checked})(e,"appToggle"),o()})),E.addEventListener("input",(e=>{const t=e.target.value;n.opacity=e.target.value,r.innerText=`Opacity ${t}`,o()})),c.addEventListener("click",(e=>{a(e,!0)})),s.addEventListener("click",(e=>{a(e,!1)}))}))}}();
