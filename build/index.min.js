!function(){"use strict";var t={appToggle:!1,opacity:.5,currentTab:0,paddingColor:"#D8A658",marginColor:"#58CFD8",tagnames:{HTML:!0,BODY:!0,ADDRESS:!0,ARTICLE:!0,ASIDE:!0,FOOTER:!0,HEADER:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HGROUP:!0,MAIN:!0,NAV:!0,SECTION:!0,SEARCH:!0,BLOCKQUOTE:!0,DD:!0,DIV:!0,DL:!0,DT:!0,FIGCAPTION:!0,FIGURE:!0,HR:!0,LI:!0,MENU:!0,OL:!0,P:!0,PRE:!0,UL:!0,A:!0,ABBR:!0,B:!0,BDI:!0,BDO:!0,BR:!0,CITE:!0,CODE:!0,DATA:!0,DFN:!0,EM:!0,I:!0,KBD:!0,MARK:!0,Q:!0,RP:!0,RT:!0,RUBY:!0,S:!0,SAMP:!0,SMALL:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,TIME:!0,U:!0,VAR:!0,WBR:!0,AREA:!0,AUDIO:!0,IMG:!0,MAP:!0,TRACK:!0,VIDEO:!0,EMBED:!0,IFRAME:!0,OBJECT:!0,PICTURE:!0,PORTAL:!0,SOURCE:!0,SVG:!0,MATH:!0,CANVAS:!0,NOSCRIPT:!0,DEL:!0,INS:!0,CAPTION:!0,COL:!0,COLGROUP:!0,TABLE:!0,TBODY:!0,TD:!0,TFOOT:!0,TH:!0,THEAD:!0,TR:!0,BUTTON:!0,DATALIST:!0,FIELDSET:!0,FORM:!0,INPUT:!0,LABEL:!0,LEGEND:!0,METER:!0,OPTGROUP:!0,OPTION:!0,OUTPUT:!0,PROGRESS:!0,SELECT:!0,TEXTAREA:!0,DETAILS:!0,DIALOG:!0,SUMMARY:!0,SLOT:!0,TEMPLATE:!0,"CUSTOM ELEMENTS":!0}};const{runtime:e}=browser;let o,l;new Promise(((e,l)=>{o=JSON.parse(localStorage.getItem("layoutLensState")),o?e("Layout lens options found"):(o=t,localStorage.setItem("layoutLensState",JSON.stringify(o)),l("Layout lens options set"))})).then((t=>{console.log(t),a(o)})).catch((t=>{console.log(t),a(o)}));const n=()=>{console.log("clean"),l&&clearInterval(l);const t=document.querySelector(".layoutlens__container");t&&t.remove()},s=()=>{const t=document.querySelectorAll("*");let e=document.querySelector(".layoutlens__container")||document.createElement("div");function l(t,l){if(!o.tagnames[t.tagName])return;const n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div");let T="";t.classList.forEach((t=>T+=`${t} `)),t.id&&n.setAttribute("data-id",t.id),T&&n.setAttribute("data-class",T),n.setAttribute("aria-hidden","true"),n.classList.add("layoutlens__overlay"),s.classList.add("layoutlens__margin"),a.classList.add("layoutlens__padding"),((t,e)=>{const o=t.getBoundingClientRect(),{scrollY:l,scrollX:n}=window;e.style.top=`${o.top+l}px`,e.style.left=`${o.left+n}px`})(t,n),n.appendChild(s),n.appendChild(a),((t,e,l,n,s)=>{const a=window.getComputedStyle(t),T=t.getBoundingClientRect();let i=.3*T.height;i>22?i=22:i<12&&(i=12);const r=document.createElement("div");r.classList.add("layoutlens__info-overlay"),r.innerText=`${t.tagName}`,l.appendChild(r);const E={top:a.paddingTop,bottom:a.paddingBottom,left:a.paddingLeft,right:a.paddingRight},d={top:a.marginTop,bottom:a.marginBottom,left:a.marginLeft,right:a.marginRight};s.style.borderBottom=`${E.bottom} solid ${o.paddingColor}`,s.style.borderTop=`${E.top} solid ${o.paddingColor}`,s.style.borderLeft=`${E.left} solid ${o.paddingColor}`,s.style.borderRight=`${E.right} solid ${o.paddingColor}`,s.style.borderRadius=`${a.borderRadius}`,n.style.borderBottom=`${d.bottom} solid ${o.marginColor}`,n.style.borderTop=`${d.top} solid ${o.marginColor}`,n.style.borderLeft=`${d.left} solid ${o.marginColor}`,n.style.borderRight=`${d.right} solid ${o.marginColor}`,n.style.top=`-${d.top}`,n.style.left=`-${d.left}`,l.style.width=`${T.width}px`,l.style.height=`${T.height}px`,l.style.fontSize=`${i}px`,l.style.borderRadius=`${a.borderRadius}`})(t,0,n,s,a),e.appendChild(n)}e.style.opacity=o.opacity,e.classList.add("layoutlens__container"),document.body.appendChild(e);const n={HTML:t=>l(t),BODY:t=>l(t),ADDRESS:t=>l(t),ARTICLE:t=>l(t),ASIDE:t=>l(t),FOOTER:t=>l(t),HEADER:t=>l(t),H1:t=>l(t),H2:t=>l(t),H3:t=>l(t),H4:t=>l(t),H5:t=>l(t),H6:t=>l(t),HGROUP:t=>l(t),MAIN:t=>l(t),NAV:t=>l(t),SECTION:t=>l(t),SEARCH:t=>l(t),BLOCKQUOTE:t=>l(t),DD:t=>l(t),DIV:t=>l(t),DL:t=>l(t),DT:t=>l(t),FIGCAPTION:t=>l(t),FIGURE:t=>l(t),HR:t=>l(t),LI:t=>l(t),MENU:t=>l(t),OL:t=>l(t),P:t=>l(t),PRE:t=>l(t),UL:t=>l(t),A:t=>l(t),ABBR:t=>l(t),B:t=>l(t),BDI:t=>l(t),BDO:t=>l(t),BR:t=>l(t),CITE:t=>l(t),CODE:t=>l(t),DATA:t=>l(t),DFN:t=>l(t),EM:t=>l(t),I:t=>l(t),KBD:t=>l(t),MARK:t=>l(t),Q:t=>l(t),RP:t=>l(t),RT:t=>l(t),RUBY:t=>l(t),S:t=>l(t),SAMP:t=>l(t),SMALL:t=>l(t),SPAN:t=>l(t),STRONG:t=>l(t),SUB:t=>l(t),SUP:t=>l(t),TIME:t=>l(t),U:t=>l(t),VAR:t=>l(t),WBR:t=>l(t),AREA:t=>l(t),AUDIO:t=>l(t),IMG:t=>l(t),MAP:t=>l(t),TRACK:t=>l(t),VIDEO:t=>l(t),EMBED:t=>l(t),IFRAME:t=>l(t),OBJECT:t=>l(t),PICTURE:t=>l(t),PORTAL:t=>l(t),SOURCE:t=>l(t),SVG:t=>l(t),MATH:t=>l(t),CANVAS:t=>l(t),NOSCRIPT:t=>l(t),DEL:t=>l(t),INS:t=>l(t),CAPTION:t=>l(t),COL:t=>l(t),COLGROUP:t=>l(t),TABLE:t=>l(t),TBODY:t=>l(t),TD:t=>l(t),TFOOT:t=>l(t),TH:t=>l(t),THEAD:t=>l(t),TR:t=>l(t),BUTTON:t=>l(t),DATALIST:t=>l(t),FIELDSET:t=>l(t),FORM:t=>l(t),INPUT:t=>l(t),LABEL:t=>l(t),LEGEND:t=>l(t),METER:t=>l(t),OPTGROUP:t=>l(t),OPTION:t=>l(t),OUTPUT:t=>l(t),PROGRESS:t=>l(t),SELECT:t=>l(t),TEXTAREA:t=>l(t),DETAILS:t=>l(t),DIALOG:t=>l(t),SUMMARY:t=>l(t),SLOT:t=>l(t),TEMPLATE:t=>l(t)};t.forEach((t=>{T.observe(t),i.observe(t);const{tagName:e}=t;console.log(e),e in n&&o.tagnames[`${e}`]?n[e](t):o.tagnames["CUSTOM ELEMENTS"]&&l(t)}))},a=t=>{o=t,n(),o.appToggle&&s()},T=new ResizeObserver((t=>{for(const e of t)e.contentBoxSize&&(clearTimeout(l),l=setTimeout((()=>{n(),s()}),100))})),i=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting&&(clearTimeout(l),l=setTimeout((()=>{console.log("INTERSECT"),n(),s()}),100))}));e.onMessage.addListener((t=>{localStorage.setItem("layoutLensState",JSON.stringify(t)),a(t)}))}();
