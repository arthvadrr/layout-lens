!function(){"use strict";const{runtime:t,devtools:e}=browser;let o;new Promise(((t,e)=>{o=JSON.parse(localStorage.getItem("layoutLensState")),o?t("Layout lens options found"):(o={appToggle:!1,opacity:.5,currentTab:0,paddingColor:"#D8A658",marginColor:"#58CFD8"},localStorage.setItem("layoutLensState",JSON.stringify(o)),e("Layout lens options set"))})).then((t=>{console.log(t),i(o)})).catch((t=>{console.log(t),i(o)}));const n=()=>{console.log("clean");const t=document.querySelector(".layoutlens__container");t&&t.remove()},l=()=>{const t=document.querySelectorAll("*");let e=document.querySelector(".layoutlens__container")||document.createElement("div");function n(t,n){const l=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");let r="";t.classList.forEach((t=>r+=`${t} `)),t.id&&l.setAttribute("data-id",t.id),r&&l.setAttribute("data-class",r),l.setAttribute("aria-hidden","true"),l.classList.add("layoutlens__overlay"),i.classList.add("layoutlens__margin"),s.classList.add("layoutlens__padding"),((t,e)=>{const o=t.getBoundingClientRect(),{scrollY:n,scrollX:l}=window;e.style.top=`${o.top+n}px`,e.style.left=`${o.left+l}px`})(t,l),((t,e,n,l,i)=>{const s=window.getComputedStyle(t),r=t.getBoundingClientRect();let a=.3*r.height;a>22?a=22:a<12&&(a=12);const d=document.createElement("div");n.innerText=`${t.tagName}`,d.innerText=`\n    ${t.tagName}\n    Padding ${s.padding}\n    Margin ${s.margin}\n    `;const c={top:s.paddingTop,bottom:s.paddingBottom,left:s.paddingLeft,right:s.paddingRight},g={top:s.marginTop,bottom:s.marginBottom,left:s.marginLeft,right:s.marginRight};i.style.borderBottom=`${c.bottom} solid ${o.paddingColor}`,i.style.borderTop=`${c.top} solid ${o.paddingColor}`,i.style.borderLeft=`${c.left} solid ${o.paddingColor}`,i.style.borderRight=`${c.right} solid ${o.paddingColor}`,i.style.borderRadius=`${s.borderRadius}`,l.style.borderBottom=`${g.bottom} solid ${o.marginColor}`,l.style.borderTop=`${g.top} solid ${o.marginColor}`,l.style.borderLeft=`${g.left} solid ${o.marginColor}`,l.style.borderRight=`${g.right} solid ${o.marginColor}`,l.style.top=`-${g.top}`,l.style.left=`-${g.left}`,n.style.width=`${r.width}px`,n.style.height=`${r.height}px`,n.style.fontSize=`${a}px`,n.style.borderRadius=`${s.borderRadius}`})(t,0,l,i,s),l.appendChild(i),l.appendChild(s),e.appendChild(l)}e.style.opacity=o.opacity,e.classList.add("layoutlens__container"),document.body.appendChild(e);const l={HTML:t=>n(t),BODY:t=>n(t),ADDRESS:t=>n(t),ARTICLE:t=>n(t),ASIDE:t=>n(t),FOOTER:t=>n(t),HEADER:t=>n(t),H1:t=>n(t),H2:t=>n(t),H3:t=>n(t),H4:t=>n(t),H5:t=>n(t),H6:t=>n(t),HGROUP:t=>n(t),MAIN:t=>n(t),NAV:t=>n(t),SECTION:t=>n(t),SEARCH:t=>n(t),BLOCKQUOTE:t=>n(t),DD:t=>n(t),DIV:t=>n(t),DL:t=>n(t),DT:t=>n(t),FIGCAPTION:t=>n(t),FIGURE:t=>n(t),HR:t=>n(t),LI:t=>n(t),MENU:t=>n(t),OL:t=>n(t),P:t=>n(t),PRE:t=>n(t),UL:t=>n(t),A:t=>n(t),ABBR:t=>n(t),B:t=>n(t),BDI:t=>n(t),BDO:t=>n(t),BR:t=>n(t),CITE:t=>n(t),CODE:t=>n(t),DATA:t=>n(t),DFN:t=>n(t),EM:t=>n(t),I:t=>n(t),KBD:t=>n(t),MARK:t=>n(t),Q:t=>n(t),RP:t=>n(t),RT:t=>n(t),RUBY:t=>n(t),S:t=>n(t),SAMP:t=>n(t),SMALL:t=>n(t),SPAN:t=>n(t),STRONG:t=>n(t),SUB:t=>n(t),SUP:t=>n(t),TIME:t=>n(t),U:t=>n(t),VAR:t=>n(t),WBR:t=>n(t),AREA:t=>n(t),AUDIO:t=>n(t),IMG:t=>n(t),MAP:t=>n(t),TRACK:t=>n(t),VIDEO:t=>n(t),EMBED:t=>n(t),IFRAME:t=>n(t),OBJECT:t=>n(t),PICTURE:t=>n(t),PORTAL:t=>n(t),SOURCE:t=>n(t),SVG:t=>n(t),MATH:t=>n(t),CANVAS:t=>n(t),NOSCRIPT:t=>n(t),DEL:t=>n(t),INS:t=>n(t),CAPTION:t=>n(t),COL:t=>n(t),COLGROUP:t=>n(t),TABLE:t=>n(t),TBODY:t=>n(t),TD:t=>n(t),TFOOT:t=>n(t),TH:t=>n(t),THEAD:t=>n(t),TR:t=>n(t),BUTTON:t=>n(t),DATALIST:t=>n(t),FIELDSET:t=>n(t),FORM:t=>n(t),INPUT:t=>n(t),LABEL:t=>n(t),LEGEND:t=>n(t),METER:t=>n(t),OPTGROUP:t=>n(t),OPTION:t=>n(t),OUTPUT:t=>n(t),PROGRESS:t=>n(t),SELECT:t=>n(t),TEXTAREA:t=>n(t),DETAILS:t=>n(t),DIALOG:t=>n(t),SUMMARY:t=>n(t),SLOT:t=>n(t),TEMPLATE:t=>n(t)};t.forEach((t=>{r.observe(t),a.observe(t);const{tagName:e}=t;e in l?l[e](t):n(t)}))},i=t=>{const e=document.querySelector(".layoutlens__container");o=t,e&&(e.style.opacity=o.opacity),o.appToggle&&!e?l():!o.appToggle&&e&&n()};let s;const r=new ResizeObserver((t=>{for(const e of t)e.contentBoxSize&&(clearTimeout(s),s=setTimeout((()=>{n(),l()}),100))})),a=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting&&(clearTimeout(s),s=setTimeout((()=>{console.log("INTERSECT"),n(),l()}),100))}));t.onMessage.addListener((t=>{localStorage.setItem("layoutLensState",JSON.stringify(t)),i(t)}))}();
