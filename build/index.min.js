!function(){"use strict";const{runtime:t,devtools:e}=browser;let o;new Promise(((t,e)=>{o=JSON.parse(localStorage.getItem("layoutLensState")),o?t("Layout lens options found"):(o={appToggle:!1,opacity:.5,currentTab:0,paddingColor:"#D8A658",marginColor:"#58CFD8"},localStorage.setItem("layoutLensState",JSON.stringify(o)),e("Layout lens options set"))})).then((t=>{console.log(t),s(o)})).catch((t=>{console.log(t),s(o)}));const l=()=>{console.log("clean");const t=document.querySelector(".layoutlens__container");t&&t.remove()},n=()=>{const t=document.querySelectorAll("*");let e=document.querySelector(".layoutlens__container")||document.createElement("div");function l(t,l){const n=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div");let r="";t.classList.forEach((t=>r+=`${t} `)),t.id&&n.setAttribute("data-id",t.id),r&&n.setAttribute("data-class",r),n.setAttribute("aria-hidden","true"),n.classList.add("layoutlens__overlay"),s.classList.add("layoutlens__margin"),i.classList.add("layoutlens__padding"),((t,e)=>{const o=t.getBoundingClientRect(),{scrollY:l,scrollX:n}=window;e.style.top=`${o.top+l}px`,e.style.left=`${o.left+n}px`})(t,n),n.appendChild(s),n.appendChild(i),((t,e,l,n,s)=>{const i=window.getComputedStyle(t),r=t.getBoundingClientRect();let a=.3*r.height;a>22?a=22:a<12&&(a=12);const d=document.createElement("div");d.classList.add("layoutlens__info-overlay"),d.innerText=`${t.tagName}`,l.appendChild(d);const c={top:i.paddingTop,bottom:i.paddingBottom,left:i.paddingLeft,right:i.paddingRight},T={top:i.marginTop,bottom:i.marginBottom,left:i.marginLeft,right:i.marginRight};s.style.borderBottom=`${c.bottom} solid ${o.paddingColor}`,s.style.borderTop=`${c.top} solid ${o.paddingColor}`,s.style.borderLeft=`${c.left} solid ${o.paddingColor}`,s.style.borderRight=`${c.right} solid ${o.paddingColor}`,s.style.borderRadius=`${i.borderRadius}`,n.style.borderBottom=`${T.bottom} solid ${o.marginColor}`,n.style.borderTop=`${T.top} solid ${o.marginColor}`,n.style.borderLeft=`${T.left} solid ${o.marginColor}`,n.style.borderRight=`${T.right} solid ${o.marginColor}`,n.style.top=`-${T.top}`,n.style.left=`-${T.left}`,l.style.width=`${r.width}px`,l.style.height=`${r.height}px`,l.style.fontSize=`${a}px`,l.style.borderRadius=`${i.borderRadius}`})(t,0,n,s,i),e.appendChild(n)}e.style.opacity=o.opacity,e.classList.add("layoutlens__container"),document.body.appendChild(e);const n={HTML:t=>l(t),BODY:t=>l(t),ADDRESS:t=>l(t),ARTICLE:t=>l(t),ASIDE:t=>l(t),FOOTER:t=>l(t),HEADER:t=>l(t),H1:t=>l(t),H2:t=>l(t),H3:t=>l(t),H4:t=>l(t),H5:t=>l(t),H6:t=>l(t),HGROUP:t=>l(t),MAIN:t=>l(t),NAV:t=>l(t),SECTION:t=>l(t),SEARCH:t=>l(t),BLOCKQUOTE:t=>l(t),DD:t=>l(t),DIV:t=>l(t),DL:t=>l(t),DT:t=>l(t),FIGCAPTION:t=>l(t),FIGURE:t=>l(t),HR:t=>l(t),LI:t=>l(t),MENU:t=>l(t),OL:t=>l(t),P:t=>l(t),PRE:t=>l(t),UL:t=>l(t),A:t=>l(t),ABBR:t=>l(t),B:t=>l(t),BDI:t=>l(t),BDO:t=>l(t),BR:t=>l(t),CITE:t=>l(t),CODE:t=>l(t),DATA:t=>l(t),DFN:t=>l(t),EM:t=>l(t),I:t=>l(t),KBD:t=>l(t),MARK:t=>l(t),Q:t=>l(t),RP:t=>l(t),RT:t=>l(t),RUBY:t=>l(t),S:t=>l(t),SAMP:t=>l(t),SMALL:t=>l(t),SPAN:t=>l(t),STRONG:t=>l(t),SUB:t=>l(t),SUP:t=>l(t),TIME:t=>l(t),U:t=>l(t),VAR:t=>l(t),WBR:t=>l(t),AREA:t=>l(t),AUDIO:t=>l(t),IMG:t=>l(t),MAP:t=>l(t),TRACK:t=>l(t),VIDEO:t=>l(t),EMBED:t=>l(t),IFRAME:t=>l(t),OBJECT:t=>l(t),PICTURE:t=>l(t),PORTAL:t=>l(t),SOURCE:t=>l(t),SVG:t=>l(t),MATH:t=>l(t),CANVAS:t=>l(t),NOSCRIPT:t=>l(t),DEL:t=>l(t),INS:t=>l(t),CAPTION:t=>l(t),COL:t=>l(t),COLGROUP:t=>l(t),TABLE:t=>l(t),TBODY:t=>l(t),TD:t=>l(t),TFOOT:t=>l(t),TH:t=>l(t),THEAD:t=>l(t),TR:t=>l(t),BUTTON:t=>l(t),DATALIST:t=>l(t),FIELDSET:t=>l(t),FORM:t=>l(t),INPUT:t=>l(t),LABEL:t=>l(t),LEGEND:t=>l(t),METER:t=>l(t),OPTGROUP:t=>l(t),OPTION:t=>l(t),OUTPUT:t=>l(t),PROGRESS:t=>l(t),SELECT:t=>l(t),TEXTAREA:t=>l(t),DETAILS:t=>l(t),DIALOG:t=>l(t),SUMMARY:t=>l(t),SLOT:t=>l(t),TEMPLATE:t=>l(t)};t.forEach((t=>{r.observe(t),a.observe(t);const{tagName:e}=t;e in n?n[e](t):l(t)}))},s=t=>{const e=document.querySelector(".layoutlens__container");o=t,e&&(e.style.opacity=o.opacity),o.appToggle&&!e?n():!o.appToggle&&e&&l()};let i;const r=new ResizeObserver((t=>{for(const e of t)e.contentBoxSize&&(clearTimeout(i),i=setTimeout((()=>{l(),n()}),100))})),a=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting&&(clearTimeout(i),i=setTimeout((()=>{console.log("INTERSECT"),l(),n()}),100))}));t.onMessage.addListener((t=>{localStorage.setItem("layoutLensState",JSON.stringify(t)),s(t)}))}();
