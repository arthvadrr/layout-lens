!function(){"use strict";const t={appToggle:!1,opacity:.5,currentTab:0,paddingColor:"#D8A658",marginColor:"#58CFD8",tagnames:{HTML:!0,BODY:!0,ADDRESS:!0,ARTICLE:!0,ASIDE:!0,FOOTER:!0,HEADER:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HGROUP:!0,MAIN:!0,NAV:!0,SECTION:!0,SEARCH:!0,BLOCKQUOTE:!0,DD:!0,DIV:!0,DL:!0,DT:!0,FIGCAPTION:!0,FIGURE:!0,HR:!0,LI:!0,MENU:!0,OL:!0,P:!0,PRE:!0,UL:!0,A:!0,ABBR:!0,B:!0,BDI:!0,BDO:!0,BR:!0,CITE:!0,CODE:!0,DATA:!0,DFN:!0,EM:!0,I:!0,KBD:!0,MARK:!0,Q:!0,RP:!0,RT:!0,RUBY:!0,S:!0,SAMP:!0,SMALL:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,TIME:!0,U:!0,VAR:!0,WBR:!0,AREA:!0,AUDIO:!0,IMG:!0,MAP:!0,TRACK:!0,VIDEO:!0,EMBED:!0,IFRAME:!0,OBJECT:!0,PICTURE:!0,PORTAL:!0,SOURCE:!0,SVG:!0,MATH:!0,CANVAS:!0,NOSCRIPT:!0,DEL:!0,INS:!0,CAPTION:!0,COL:!0,COLGROUP:!0,TABLE:!0,TBODY:!0,TD:!0,TFOOT:!0,TH:!0,THEAD:!0,TR:!0,BUTTON:!0,DATALIST:!0,FIELDSET:!0,FORM:!0,INPUT:!0,LABEL:!0,LEGEND:!0,METER:!0,OPTGROUP:!0,OPTION:!0,OUTPUT:!0,PROGRESS:!0,SELECT:!0,TEXTAREA:!0,DETAILS:!0,DIALOG:!0,SUMMARY:!0,SLOT:!0,TEMPLATE:!0,"CUSTOM ELEMENTS":!0}},{runtime:e}=browser;let o,l;new Promise(((e,l)=>{o=JSON.parse(localStorage.getItem("layoutLensState")),o?e("Layout lens options found"):(o=t,console.table(o),localStorage.setItem("layoutLensState",JSON.stringify(o)),l("Layout lens options set"))})).then((t=>{console.log(t),i(o)})).catch((t=>{console.log(t),i(o)}));const n=()=>{const t=document.querySelectorAll("*");let e=document.querySelector(".layoutlens__container")||document.createElement("div");function l(t,e){if(!o.tagnames[t.tagName])return;const l=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div");let a="";t.classList.forEach((t=>a+=`${t} `)),t.id&&l.setAttribute("data-id",t.id),a&&l.setAttribute("data-class",a),l.setAttribute("aria-hidden","true"),l.classList.add("layoutlens__overlay"),n.classList.add("layoutlens__margin"),s.classList.add("layoutlens__padding"),((t,e)=>{const o=t.getBoundingClientRect(),{scrollY:l,scrollX:n}=window;e.style.top=`${o.top+l}px`,e.style.left=`${o.left+n}px`})(t,l),l.appendChild(n),l.appendChild(s),((t,e,l,n)=>{const s=window.getComputedStyle(t),a=t.getBoundingClientRect();let i=.3*a.height;i>22?i=22:i<12&&(i=12);const r=document.createElement("div");r.classList.add("layoutlens__info-overlay"),r.innerText=`${t.tagName}`,e.appendChild(r);const d={top:s.paddingTop,bottom:s.paddingBottom,left:s.paddingLeft,right:s.paddingRight},c={top:s.marginTop,bottom:s.marginBottom,left:s.marginLeft,right:s.marginRight};n.style.borderBottom=`${d.bottom} solid ${o.paddingColor}`,n.style.borderTop=`${d.top} solid ${o.paddingColor}`,n.style.borderLeft=`${d.left} solid ${o.paddingColor}`,n.style.borderRight=`${d.right} solid ${o.paddingColor}`,n.style.borderRadius=`${s.borderRadius}`,l.style.borderBottom=`${c.bottom} solid ${o.marginColor}`,l.style.borderTop=`${c.top} solid ${o.marginColor}`,l.style.borderLeft=`${c.left} solid ${o.marginColor}`,l.style.borderRight=`${c.right} solid ${o.marginColor}`,l.style.top=`-${c.top}`,l.style.left=`-${c.left}`,e.style.width=`${a.width}px`,e.style.height=`${a.height}px`,e.style.fontSize=`${i}px`,e.style.borderRadius=`${s.borderRadius}`})(t,l,n,s),e.appendChild(l)}e.style.opacity=o.opacity,e.classList.add("layoutlens__container"),document.body.appendChild(e),t.forEach((t=>{s.observe(t),a.observe(t);const{tagName:n}=t;o.tagnames[`${n}`]?l(t,e):o.tagnames["CUSTOM ELEMENTS"]&&l(t,"#FF69B4")}))},s=new ResizeObserver((t=>{for(const e of t)e.contentBoxSize&&(clearTimeout(l),l=setTimeout((()=>{i()}),1))})),a=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting&&(clearTimeout(l),l=setTimeout((()=>{console.log("INTERSECT"),i()}),1))})),i=(t=!1)=>{t&&(o=t),(()=>{l&&clearInterval(l);const t=document.querySelector(".layoutlens__container");t&&t.remove()})(),o.appToggle&&n()};e.onMessage.addListener((t=>{localStorage.setItem("layoutLensState",JSON.stringify(t)),i(t)}))}();
